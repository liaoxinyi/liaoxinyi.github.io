---
layout:     post
title:      "积跬步以至千里——Linux命令积累"
subtitle:   "日常用到的Linux命令记录"
date:       2020-10-20
author:     "ThreeJin"
header-mask: 0.5
catalog: true
header-img: "https://gitee.com/liaoxinyiqiqi/my-blog-images/raw/master/img/linux.bmp"
tags:
    - Linux
---
> 来源于《鸟哥的私房菜》+平时使用过程中的积累+IT公众号的积累，不定期更新

### Linux 命令格式
一般执行 Linux 命令格式都是这样的：命令名称 [命令参数] [命令对象]  
注意：它们之间是有空格的
### 查看帮助
Linux系统中，有很多命令，我怎么知道某个命令是干嘛用的，这时可以执行帮助命令查看：  
man man  
### 常用系统命令
##### 系统运行
- ps 命令（只显示**瞬间进程的状态**，如果要实时监控应该用top命令）  
1. 显示所有进程信息，连同命令行：ps -ef  
2. **查找特定进程，经常与ef一起使用：ps -ef|grep 进程名称**  
- pidof 命令：（感觉不是很好用）
- kill 命令和killall：配合进程的pid一起使用
- reboot 命令，重启，关机对应poweroff
- 根据端口获取pid：lsof -i:XX
- 查看端口是否被占用：netstat  -anp  |grep   XXX

##### 服务启停
- 启动服务：systemctl start 服务名称
- 重启服务：systemctl restart 服务名称
- 停止服务：systemctl stop 服务名称
- 加入到开机启动项：systemctl enable 服务名称
- 取消加入到开机启动项：systemctl disable 服务名称
- 查看服务状态：systemctl status 服务名称 

##### 密码
- 修改centos root密码：sudo -i passwd
##### 防火墙
- 增加防火墙黑名单：iptables -I INPUT -s 10.41.60.26 -j DROP
- 删除防火墙黑名单：iptables -D INPUT -s 10.41.60.26 -j DROP
- 关闭防火墙：systemctl stop firewalld.service
- 开放端口：firewall-cmd --zone=public --add-port=1883/tcp --permanent

##### 时间相关
- date 命令，用于**显示**及**设置**系统的时间或日期，  
date [选项] [指定的格式]    
1. 设置系统时间  
date -s "20160429 15:30:00"  该命令需要root权限  
2. 普通查看系统时间  
date  
3. 按照 “年-月-日 小时：分钟：秒” 的格式查看当前系统时间  
date “+%y-%m-%d %H:%M:%S”  

##### 下载安装
- wget 命令  
emsp;emsp;用于在终端中下载网络文件，wget 是一种下载工具，相当于迅雷，并且可以在用户退出系统的之后在后台执行，如果是由于网络的原因下载失败，wget会不断的尝试，直到整个文件下载完毕  
wget [选项] [URL]  
1. wget -O 647.zip http://XXX 下载文件并重命名为647.zip  
2. wget -b http://XXX  启动后转入后台  
- yum 命令：yum install 软件名称

##### 其他
- echo 命令，用于在终端输出字符串或变量提取后的值  
echo [字符串] [$变量]  

### 工作目录命令
- 显示用户当前所处的工作目录：pwd 
- 返回到上一次所处的目录：cd -
- 进入上一级目录：cd ..
- 返回当前用户根目录：cd ~
- 查看全部文件（包括隐藏文件）：ls -a
- 查看文件属性、大小等详细信息：ls -l

### 文本文件查看命令
- 查看纯文本文件（内容较少的）:cat 文件名
- 查看纯文本文件顺带显示行号（内容较少的）：cat -n 文件名
- 用于查看纯文本文件（内容较多的）：more
- 用于查看纯文本文档的前 N 行：head 8 文件名

### vim命令
- **命令模式（Command mode）**
用户刚刚启动 vi/vim，便进入了命令模式（比如 vim XXXX文件）。此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如此时按下i，并不会输入一个字符i，此时的i被当作了一个命令，下面是常用的几个命令  
1. **i**：切换到输入模式，以输入字符  
2. **x**：删除当前光标所在处的字符  
3. **:**：切换到底线命令模式，用来在最底一行输入命令  
- **输入模式（Insert mode）**
正常输入就可以，如果要退出该模式并切换到命令模式：**ESC键**  
- **底线命令模式（Last line mode）**
这个是vim的主要工作，常用的有：  
1. **q**：退出vim程序  
2. **q!**：强制离开，即使修改过也不储存档案
3. **w**：保存文件  
4. **w!**：若文件属性为『只读』时，强制写入该档案  
5. **ESC键后接:wq**：这个命令是常用的，ESC使得从输入模式退回命令模式，:进入底线命令，w保存，随后q退出，后面可接强制（!）可不接  
6. **ESC键**：退出底线命令模式  
- **批量注释**
添加注释：Ctrl + v 进入块选择模式，然后移动光标选中你要注释的行，再按大写的 I 进入行首插入模式输入注释符号如 // 或 #，输入完毕之后，按两下 ESC，Vim 会自动将你选中的所有行首都加上注释，保存退出完成注释  
取消注释：Ctrl + v 进入块选择模式，选中你要删除的行首的注释符号，注意 // 要选中两个，选好之后按 d 即可删除注释  
- **删除、复制、粘贴和撤销**
1. 输入模式下  
**Shift键+Insert键**：粘贴windows系统粘贴板中的内容  
2. 命令模式下  
复制游标所在的那一行：**yy**  
在光标后（如果复制的内容是多行则在光标下一行）粘贴：**p**  
在光标前（如果复制的内容是多行则在光标上一行）粘贴：**P**  
向后删除（类似于Windows的delete）：**x**  
向前删除（类似于Windows的backspace）：**X**  
删除整行：**dd**  
逐个选中（类似于Windows的shift+上下左右）：v为起始坐标，随后通过上下左右进行选择，选择后可以复制（y），删除（d）  
逐步撤销之前的动作：**u**  
重复上一个动作：**[Ctrl]+r**  
快速跳最后：**G**  
